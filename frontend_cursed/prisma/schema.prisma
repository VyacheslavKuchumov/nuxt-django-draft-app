generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Customers {
  customer_id   BigInt   @id @default(autoincrement())
  customer_name String
  Orders        Orders[]
}

model Orders {
  order_id       BigInt           @id @default(autoincrement())
  order_date     DateTime         @db.Date
  customer_id    BigInt
  Customers      Customers        @relation(fields: [customer_id], references: [customer_id], onUpdate: NoAction)
  OrdersProducts OrdersProducts[]
}

model OrdersProducts {
  order_id         BigInt
  product_id       BigInt
  product_quantity Int      @db.SmallInt
  Orders           Orders   @relation(fields: [order_id], references: [order_id], onDelete: Cascade)
  Products         Products @relation(fields: [product_id], references: [product_id], onDelete: Cascade)

  @@id([order_id, product_id])
  @@unique([order_id, product_id])
}

model Products {
  product_id     BigInt           @id @default(autoincrement())
  product_name   String
  product_price  Float
  markup_percent Int              @db.SmallInt
  OrdersProducts OrdersProducts[]
}
